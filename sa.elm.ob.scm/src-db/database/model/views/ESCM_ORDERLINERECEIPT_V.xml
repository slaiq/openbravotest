<?xml version="1.0"?>
  <database name="VIEW ESCM_ORDERLINERECEIPT_V">
    <view name="ESCM_ORDERLINERECEIPT_V"><![CDATA[SELECT ordship.c_orderline_id AS escm_orderlinereceipt_v_id, prd.value AS name, ordship.ad_client_id, ordship.ad_org_id, ordship.isactive, ordship.created, ordship.createdby, ordship.updated, ordship.updatedby, ordship.c_orderline_id, ordship.c_order_id, 0 AS qty, COALESCE(ordship.qtyordered, 0) AS movementqty, COALESCE(ordship.em_escm_qty_accepted, 0) AS inspectedqty, COALESCE(ordship.em_escm_qtycanceled, 0) AS cancelledqty, COALESCE(ordship.em_escm_qty_delivered, 0) AS deliveredqty, COALESCE(ordship.em_escm_qtyreceived, 0) AS receivedqty, COALESCE(ordship.em_escm_qtyirr, 0) AS orderedqty, COALESCE(ordship.qtyordered, 0) - (COALESCE(ordship.em_escm_qtyporec, 0) - COALESCE(ordship.em_escm_qtyirr, 0) - COALESCE(ordship.em_escm_qtyrejected, 0) - COALESCE(ordship.em_escm_qtyreturned, 0)) - COALESCE(ordship.em_escm_qtycanceled, 0) - COALESCE(ordship.em_escm_legacy_qty_delivered, 0) AS pendingqty, ordship.em_escm_prodescription, ordship.c_uom_id, ordship.m_product_id, trunc(ordship.linenetamt / ordship.qtyordered, 2) AS priceactual, ordship.em_escm_issummarylevel AS summary, ordship.line, (SELECT to_char(now(), 'yyyy-MM-dd') AS exestartdateh) AS exestartdateh, (SELECT to_char(now(), 'yyyy-MM-dd') AS exeenddateh) AS exeenddateh, (SELECT to_char(now(), 'dd-MM-yyyy') AS exestartdategre) AS exestartdategre, (SELECT to_char(now(), 'dd-MM-yyyy') AS exeenddategre) AS exeenddategre, 1 AS contractexedays, 1 AS contractdelaydays, (SELECT to_char(now(), 'yyyy-MM-dd') AS needbydate) AS needbydate FROM c_orderline ordship JOIN ad_client cli ON cli.ad_client_id = ordship.ad_client_id LEFT JOIN c_currency cur ON cur.c_currency_id = cli.c_currency_id LEFT JOIN m_product prd ON prd.m_product_id = ordship.m_product_id WHERE (COALESCE(ordship.qtyordered, 0) - (COALESCE(ordship.em_escm_qtyporec, 0) - COALESCE(ordship.em_escm_qtyirr, 0) - COALESCE(ordship.em_escm_qtyrejected, 0) - COALESCE(ordship.em_escm_qtyreturned, 0)) - COALESCE(ordship.em_escm_qtycanceled, 0) - COALESCE(ordship.em_escm_legacy_qty_delivered, 0)) > 0]]></view>
  </database>
