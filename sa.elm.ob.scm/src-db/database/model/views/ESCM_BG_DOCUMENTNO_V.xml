<?xml version="1.0"?>
  <database name="VIEW ESCM_BG_DOCUMENTNO_V">
    <view name="ESCM_BG_DOCUMENTNO_V"><![CDATA[SELECT proposal.escm_proposalmgmt_id AS escm_bg_documentno_v_id, proposal.ad_client_id, proposal.ad_org_id, proposal.created, proposal.createdby, proposal.isactive, proposal.updated, proposal.updatedby, proposal.effectivefrom, proposal.effectiveto, proposal.proposalno AS documentno, concat(proposal.proposalno, ' - ', proposal.bidname) AS description, 'P' AS type, proposal.escm_bidmgmt_id, proposal.supplier AS c_bpartner_id, proposal.proposalstatus AS status FROM escm_proposalmgmt proposal UNION SELECT ord.c_order_id AS escm_bg_documentno_v_id, ord.ad_client_id, ord.ad_org_id, ord.created, ord.createdby, ord.isactive, ord.updated, ord.updatedby, ord.dateordered AS effectivefrom, NULL AS effectiveto, ord.documentno, concat(ord.documentno, ' - ', CASE WHEN ord.em_escm_projectname IS NOT NULL THEN ord.em_escm_projectname ELSE ord.em_escm_notes END) AS description, 'POC' AS type, ord.em_escm_bidmgmt_id AS escm_bidmgmt_id, ord.c_bpartner_id, ord.docstatus AS status FROM c_order ord WHERE ord.em_escm_ordertype IS NOT NULL AND ord.issotrx = 'N' AND ord.em_escm_ordertype <> 'PUR_AG']]></view>
  </database>
