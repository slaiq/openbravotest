<?xml version="1.0"?>
  <database name="VIEW EFIN_BUDINQINVACTUAL_V">
    <view name="EFIN_BUDINQINVACTUAL_V"><![CDATA[SELECT main.efin_budinqinvactual_v_id, main.efin_manualencuminvoice_id, main.efin_budget_manencumlines_id, main.ad_client_id, main.ad_org_id, main.isactive, main.created, main.createdby, main.updated, main.updatedby, main.c_invoice_id, main.c_invoiceline_id, main.dateacct, main.dateinvoiced, main.description, main.documentno, main.fin_payment_id, main.invamount, main.ispaid, main.c_validcombination_id, main.efin_budgetlines_id, main.efin_budgetint_id, main.gl_journal_id, main.gl_journalline_id, main.c_doctype_id FROM (SELECT encuminv.efin_manualencuminvoice_id AS efin_budinqinvactual_v_id, encuminv.efin_manualencuminvoice_id, encuminv.efin_budget_manencumlines_id, encuminv.ad_client_id, encuminv.ad_org_id, encuminv.isactive, encuminv.created, encuminv.createdby, encuminv.updated, encuminv.updatedby, encuminv.c_invoice_id, encuminv.c_invoiceline_id, encuminv.dateacct, encuminv.dateinvoiced, encuminv.description, encuminv.documentno, encuminv.fin_payment_id, encuminv.invamount, encuminv.ispaid, encumln.c_validcombination_id, encumln.efin_budgetlines_id, encumhd.efin_budgetint_id, NULL AS gl_journal_id, NULL AS gl_journalline_id, inv.c_doctypetarget_id AS c_doctype_id FROM efin_manualencuminvoice encuminv JOIN efin_budget_manencumlines encumln ON encuminv.efin_budget_manencumlines_id = encumln.efin_budget_manencumlines_id JOIN efin_budget_manencum encumhd ON encumln.efin_budget_manencum_id = encumhd.efin_budget_manencum_id JOIN c_invoice inv ON encuminv.c_invoice_id = inv.c_invoice_id WHERE encumhd.docstatus = 'CO' AND encuminv.ispaid = 'Y' AND encumln.c_validcombination_id IS NOT NULL UNION ALL SELECT actualtran.efin_actualtransaction_id AS efin_budinqinvactual_v_id, NULL AS efin_manualencuminvoice_id, NULL AS efin_budget_manencumlines_id, actualtran.ad_client_id, actualtran.ad_org_id, actualtran.isactive, actualtran.created, actualtran.createdby, actualtran.updated, actualtran.updatedby, actualtran.c_invoice_id, actualtran.c_invoiceline_id, actualtran.dateacct, actualtran.dateinvoiced, actualtran.description, actualtran.documentno, NULL AS fin_payment_id, actualtran.amount, actualtran.posted, actualtran.c_validcombination_id, NULL AS efin_budgetlines_id, actualtran.efin_budgetint_id, actualtran.gl_journal_id, actualtran.gl_journalline_id, COALESCE(gl.c_doctype_id, inv.c_doctypetarget_id) AS c_doctype_id FROM efin_actualtransaction actualtran LEFT JOIN gl_journal gl ON gl.gl_journal_id = actualtran.gl_journal_id LEFT JOIN c_invoice inv ON inv.c_invoice_id = actualtran.c_invoice_id WHERE actualtran.posted = 'Y' AND actualtran.c_validcombination_id IS NOT NULL) main]]></view>
  </database>
