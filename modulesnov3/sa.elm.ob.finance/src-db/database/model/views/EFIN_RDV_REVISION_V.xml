<?xml version="1.0"?>
  <database name="VIEW EFIN_RDV_REVISION_V">
    <view name="EFIN_RDV_REVISION_V"><![CDATA[SELECT get_uuid() AS efin_rdv_revision_v_id, hold.ad_client_id, hold.ad_org_id, hold.isactive, hold.created, hold.createdby, hold.updated, hold.updatedby, hold.c_order_id, hold.efin_rdvtxn_id, ln.c_validcombination_id, (SELECT c_validcombination.account_id FROM c_validcombination WHERE c_validcombination.c_validcombination_id = ln.c_validcombination_id) AS accountid, COALESCE(ln.hold_amount, 0) - COALESCE(ln.release_amount, 0) - COALESCE(ln.budg_transferamt, 0) - COALESCE((SELECT COALESCE(sum(trans.amount - trans.releaseamount), 0) AS "coalesce" FROM efin_rdv_budgtransfer trans WHERE trans.efin_rdv_budgholdline_id = ln.efin_rdv_budgholdline_id AND trans.released = 'Y'), 0) AS remainamt, 0 AS amount, ln.efin_rdv_budgholdline_id FROM efin_rdv_budghold hold JOIN efin_rdv_budgholdline ln ON hold.efin_rdv_budghold_id = ln.efin_rdv_budghold_id WHERE hold.status = 'APP' AND (COALESCE(ln.hold_amount, 0) - COALESCE(ln.release_amount, 0) - COALESCE(ln.budg_transferamt, 0) - COALESCE((SELECT COALESCE(sum(trans.amount - trans.releaseamount), 0) AS "coalesce" FROM efin_rdv_budgtransfer trans WHERE trans.efin_rdv_budgholdline_id = ln.efin_rdv_budgholdline_id AND trans.released = 'Y'), 0)) > 0]]></view>
  </database>
