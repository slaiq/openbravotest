<?xml version="1.0"?>
  <database name="VIEW EFIN_COMBINATION_ADJ_V">
    <view name="EFIN_COMBINATION_ADJ_V"><![CDATA[SELECT budline.c_validcombination_id AS efin_combination_adj_v_id, budline.ad_client_id, budline.ad_org_id, budline.isactive, budline.created, budline.createdby, budline.updated, budline.updatedby, COALESCE(budline.carryforward, 0) AS carryforward, COALESCE(budline.current_budget, 0) AS amount, 0 AS adjamount, 0 AS decadjamount, COALESCE(budline.current_budget, 0) AS currentbudget, COALESCE((SELECT COALESCE(be.current_budget, 0) - COALESCE(be.disdec_amt, 0) + COALESCE(be.disinc_amt, 0) FROM efin_budgetinquiry be JOIN c_validcombination vc ON be.c_validcombination_id = vc.c_validcombination_id WHERE (vc.c_salesregion_id IN (SELECT b.hq_budgetcontrolunit FROM efin_budget_ctrl_param b WHERE b.ad_client_id = be.ad_client_id)) AND be.efin_budgetinquiry_id = budline.efin_budgetinquiry_id), 0) AS fundsavailable, COALESCE(budline.current_budget, 0) AS costcurrentbudget, budline.c_validcombination_id, budline.uniquecodename, budline.efin_budgetinquiry_id, bud.efin_budgetint_id, budline.c_campaign_id, budline.c_project_id, budline.c_elementvalue_id, budline.efin_budgetlines_id, budline.isbudget, budline.description, budline.c_salesregion_id, budline.c_bpartner_id, budline.c_activity_id, cv.em_efin_accountparent FROM efin_budgetinquiry budline JOIN efin_budgetint bud ON bud.efin_budgetint_id = budline.efin_budgetint_id JOIN c_validcombination cv ON cv.c_validcombination_id = budline.c_validcombination_id WHERE budline.current_budget > 0 AND cv.isactive = 'Y']]></view>
  </database>
