<?xml version="1.0"?>
  <database name="VIEW EFIN_PENALTY_DETAIL">
    <view name="EFIN_PENALTY_DETAIL"><![CDATA[SELECT get_uuid() AS efin_penalty_detail_id, rdv.ad_org_id, rdv.ad_client_id, rdv.updatedby, rdv.updated, rdv.created, rdv.isactive, rdv.createdby, act.efin_penalty_types_id, sum(act.penalty_amount) AS sum, li.efin_rdvtxn_id, type.threshold, rdv.contract_amt * (type.threshold / 100) AS openamt, rdv.contract_amt * (type.threshold / 100) - sum(act.penalty_amount) AS remaining, rdv.penalty_status, type.deductiontype, rdv.efin_rdv_id, txn.created AS creationdate FROM efin_penalty_action act LEFT JOIN efin_rdvtxnline li ON act.efin_rdvtxnline_id = li.efin_rdvtxnline_id LEFT JOIN efin_rdvtxn txn ON txn.efin_rdvtxn_id = li.efin_rdvtxn_id LEFT JOIN efin_rdv rdv ON rdv.efin_rdv_id = li.efin_rdv_id LEFT JOIN efin_penalty_types type ON type.efin_penalty_types_id = act.efin_penalty_types_id GROUP BY li.efin_rdvtxn_id, act.efin_penalty_types_id, rdv.ad_org_id, rdv.ad_client_id, rdv.updatedby, rdv.updated, rdv.created, rdv.isactive, rdv.createdby, type.threshold, rdv.contract_amt, rdv.penalty_status, type.deductiontype, rdv.efin_rdv_id, txn.created]]></view>
  </database>
