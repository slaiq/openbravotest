<?xml version="1.0"?>
  <database name="VIEW ESCM_ORDERSHIPMENT_V">
    <view name="ESCM_ORDERSHIPMENT_V"><![CDATA[SELECT get_uuid() AS escm_ordershipment_v_id, prd.value AS name, ordship.ad_client_id, ordship.ad_org_id, ordship.isactive, ordship.created, ordship.createdby, ordship.updated, ordship.updatedby, ordship.c_orderline_id, ordline.c_order_id, 0 AS qty, COALESCE(ordship.movementqty, 0) AS movementqty, COALESCE(ordship.quantityaccepted, 0) AS inspectedqty, COALESCE(ordship.quantitycanceled, 0) AS cancelledqty, COALESCE(ordship.quantitydelivred, 0) AS deliveredqty, COALESCE(ordship.quantityreceived, 0) AS receivedqty, COALESCE(ordship.quantityirr, 0) AS orderedqty, COALESCE(ordship.movementqty, 0) - (COALESCE(ordship.quantityporec, 0) - COALESCE(ordship.quantityirr, 0) - COALESCE(ordship.quantityrejected, 0) - COALESCE(ordship.quantityreturned, 0)) - COALESCE(ordship.quantitycanceled, 0) AS pendingqty, ordship.description, ordship.c_uom_id, ordship.escm_ordershipment_id, ordship.m_product_id, ordline.priceactual FROM escm_ordershipment ordship LEFT JOIN m_product prd ON prd.m_product_id = ordship.m_product_id JOIN c_orderline ordline ON ordline.c_orderline_id = ordship.c_orderline_id JOIN c_order ord ON ord.c_order_id = ordline.c_order_id WHERE (COALESCE(ordship.movementqty, 0) - (COALESCE(ordship.quantityporec, 0) - COALESCE(ordship.quantityirr, 0) - COALESCE(ordship.quantityrejected, 0) - COALESCE(ordship.quantityreturned, 0)) - COALESCE(ordship.quantitycanceled, 0)) > 0]]></view>
  </database>
