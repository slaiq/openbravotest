<?xml version="1.0"?>
  <database name="VIEW EFIN_BUDGET_MANENCUM_V">
    <view name="EFIN_BUDGET_MANENCUM_V"><![CDATA[SELECT (a.documentno || '-') || a.amt AS name, enc.efin_budget_manencum_id AS efin_budget_manencum_v_id, v.efin_budget_manencum_id, v.ad_client_id, v.ad_org_id, v.isactive, v.created, v.createdby, v.updated, v.updatedby, v.dateacct, v.amount, v.description, v.note, v.addinfo, v.documentno, v.c_campaign_id, v.encum_type, v.c_salesregion_id, v.docstatus, v.eut_next_role_id, v.action, v.rework, v.revoke, v.revision, v.trxdate, v.usedamount, v.remainingamt, v.isauto, v.c_bpartner_id, v.efin_budgetint_id, v.encum_method FROM efin_budget_manencum enc LEFT JOIN efin_budget_manencum v ON enc.efin_budget_manencum_id = v.efin_budget_manencum_id LEFT JOIN (SELECT enci.documentno, round(sum(ln.remaining_amount), 2) AS amt, enci.efin_budget_manencum_id FROM efin_budget_manencum enci JOIN efin_budget_manencumlines ln ON enci.efin_budget_manencum_id = ln.efin_budget_manencum_id LEFT JOIN efin_prepayinvoice pre ON enci.efin_budget_manencum_id = pre.efin_budget_manencum_id GROUP BY enci.efin_budget_manencum_id, enci.documentno) a ON enc.efin_budget_manencum_id = a.efin_budget_manencum_id]]></view>
  </database>
