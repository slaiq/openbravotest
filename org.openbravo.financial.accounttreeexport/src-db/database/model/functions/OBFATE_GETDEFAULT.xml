<?xml version="1.0"?>
  <database name="FUNCTION OBFATE_GETDEFAULT">
    <function name="OBFATE_GETDEFAULT" type="NULL">
      <parameter name="p_c_acctschema_id" type="VARCHAR" mode="in">
        <default/>
      </parameter>
      <body><![CDATA[/*************************************************************************
* The contents of this file are subject to the Openbravo  Public  License
* Version  1.1  (the  "License"),  being   the  Mozilla   Public  License
* Version 1.1  with a permitted attribution clause; you may not  use this
* file except in compliance with the License. You  may  obtain  a copy of
* the License at http://www.openbravo.com/legal/license.html
* Software distributed under the License  is  distributed  on  an "AS IS"
* basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See the
* License for the specific  language  governing  rights  and  limitations
* under the License.
* The Original Code is Openbravo ERP.
* The Initial Developer of the Original Code is Openbravo SLU
* All portions are Copyright (C) 2011 Openbravo SLU
* All Rights Reserved.
* Contributor(s):  ______________________________________.
************************************************************************/

  V_SUSPENSEBALANCING_ACCT NVARCHAR2(32);
  V_SUSPENSEERROR_ACT NVARCHAR2(32);
  V_CURRENCYBALANCING_ACCT NVARCHAR2(32);
  V_RETAINEDEARNING_ACCT NVARCHAR2(32);
  V_INCOMESUMMARY_ACCT NVARCHAR2(32);
  V_INTERCOMPANYDUETO_ACCT NVARCHAR2(32);
  V_INTERCOMPANYDUEFROM_ACCT NVARCHAR2(32);
  V_PPVOFFSET_ACCT NVARCHAR2(32);
  --v_cfs_order_acct nvarchar2(32 char);
  
  V_W_INVENTORY_ACCT NVARCHAR2(32);
  V_W_INVACTUALADJUST_ACCT NVARCHAR2(32);
  V_W_DIFFERENCES_ACCT NVARCHAR2(32);
  V_W_REVALUATION_ACCT NVARCHAR2(32);
  V_P_REVENUE_ACCT NVARCHAR2(32);
  V_P_EXPENSE_ACCT NVARCHAR2(32);
  V_P_ASSET_ACCT NVARCHAR2(32);
  V_P_PURCHASEPRICEVARIANCE_ACCT NVARCHAR2(32);
  V_P_INVOICEPRICEVARIANCE_ACCT NVARCHAR2(32);
  V_P_TRADEDISCOUNTREC_ACCT NVARCHAR2(32);
  V_P_TRADEDISCOUNTGRANT_ACCT NVARCHAR2(32);
  V_P_COGS_ACCT NVARCHAR2(32);
  V_C_RECEIVABLE_ACCT NVARCHAR2(32);
  V_C_PREPAYMENT_ACCT NVARCHAR2(32);
  V_V_LIABILITY_ACCT NVARCHAR2(32);
  V_V_LIABILITY_SERVICES_ACCT NVARCHAR2(32);
  V_V_PREPAYMENT_ACCT NVARCHAR2(32);
  V_PAYDISCOUNT_EXP_ACCT NVARCHAR2(32);
  V_WRITEOFF_ACCT NVARCHAR2(32);
  V_PAYDISCOUNT_REV_ACCT NVARCHAR2(32);
  V_UNREALIZEDGAIN_ACCT NVARCHAR2(32);
  V_UNREALIZEDLOSS_ACCT NVARCHAR2(32);
  V_REALIZEDGAIN_ACCT NVARCHAR2(32);
  V_REALIZEDLOSS_ACCT NVARCHAR2(32);
  V_WITHHOLDING_ACCT NVARCHAR2(32);
  V_E_PREPAYMENT_ACCT NVARCHAR2(32);
  V_E_EXPENSE_ACCT NVARCHAR2(32);
  V_PJ_ASSET_ACCT NVARCHAR2(32);
  V_PJ_WIP_ACCT NVARCHAR2(32);
  V_T_EXPENSE_ACCT NVARCHAR2(32);
  V_T_LIABILITY_ACCT NVARCHAR2(32);
  V_T_RECEIVABLES_ACCT NVARCHAR2(32);
  V_T_DUE_ACCT NVARCHAR2(32);
  V_T_CREDIT_ACCT NVARCHAR2(32);
  V_B_INTRANSIT_ACCT NVARCHAR2(32);
  V_B_ASSET_ACCT NVARCHAR2(32);
  V_B_EXPENSE_ACCT NVARCHAR2(32);
  V_B_INTERESTREV_ACCT NVARCHAR2(32);
  V_B_INTERESTEXP_ACCT NVARCHAR2(32);
  V_B_UNIDENTIFIED_ACCT NVARCHAR2(32);
  V_B_UNALLOCATEDCASH_ACCT NVARCHAR2(32);
  V_B_PAYMENTSELECT_ACCT NVARCHAR2(32);
  V_B_SETTLEMENTGAIN_ACCT NVARCHAR2(32);
  V_B_SETTLEMENTLOSS_ACCT NVARCHAR2(32);
  V_B_REVALUATIONGAIN_ACCT NVARCHAR2(32);
  V_B_REVALUATIONLOSS_ACCT NVARCHAR2(32);
  V_CH_EXPENSE_ACCT NVARCHAR2(32);
  V_CH_REVENUE_ACCT NVARCHAR2(32);
  V_UNEARNEDREVENUE_ACCT NVARCHAR2(32);
  V_NOTINVOICEDRECEIVABLES_ACCT NVARCHAR2(32);
  V_NOTINVOICEDREVENUE_ACCT NVARCHAR2(32);
  V_NOTINVOICEDRECEIPTS_ACCT NVARCHAR2(32);
  V_CB_ASSET_ACCT NVARCHAR2(32);
  V_CB_CASHTRANSFER_ACCT NVARCHAR2(32);
  V_CB_DIFFERENCES_ACCT NVARCHAR2(32);
  V_CB_EXPENSE_ACCT NVARCHAR2(32);
  V_CB_RECEIPT_ACCT NVARCHAR2(32);
  V_A_ACCUMDEPRECIATION_ACCT NVARCHAR2(32);
  V_A_DEPRECIATION_ACCT NVARCHAR2(32);
  V_A_DISPOSAL_GAIN NVARCHAR2(32);
  V_A_DISPOSAL_LOSS NVARCHAR2(32);
  V_C_ACCTSCHEMA_DEFAULT_ID NVARCHAR2(32);

BEGIN

  SELECT 
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID=SUSPENSEBALANCING_ACCT) AS SUSPENSEBALANCING_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID=SUSPENSEERROR_ACCT) AS SUSPENSEERROR_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID=CURRENCYBALANCING_ACCT) AS CURRENCYBALANCING_ACCT, 
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID=RETAINEDEARNING_ACCT) AS RETAINEDEARNING_ACCT, 
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID=INCOMESUMMARY_ACCT) AS INCOMESUMMARY_ACCT, 
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID=INTERCOMPANYDUETO_ACCT) AS INTERCOMPANYDUETO_ACCT, 
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID=INTERCOMPANYDUEFROM_ACCT) AS INTERCOMPANYDUEFROM_ACCT, 
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID=PPVOFFSET_ACCT) AS PPVOFFSET_ACCT 
    --(select value from c_validcombination vc left join c_elementvalue ev on ev.c_elementvalue_id = vc.account_id where vc.c_validcombination_id=cfs_order_acct) as cfs_order_acct
  INTO
  V_SUSPENSEBALANCING_ACCT, V_SUSPENSEERROR_ACT, V_CURRENCYBALANCING_ACCT, V_RETAINEDEARNING_ACCT, V_INCOMESUMMARY_ACCT, V_INTERCOMPANYDUETO_ACCT, V_INTERCOMPANYDUEFROM_ACCT, V_PPVOFFSET_ACCT--, v_cfs_order_acct
  FROM C_ACCTSCHEMA_GL D 
  WHERE D.C_ACCTSCHEMA_ID = P_C_ACCTSCHEMA_ID;
  
  
  SELECT
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = W_INVENTORY_ACCT) AS W_INVENTORY_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = W_INVACTUALADJUST_ACCT) AS W_INVACTUALADJUST_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = W_DIFFERENCES_ACCT) AS W_DIFFERENCES_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = W_REVALUATION_ACCT) AS W_REVALUATION_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = P_REVENUE_ACCT) AS P_REVENUE_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = P_EXPENSE_ACCT) AS P_EXPENSE_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = P_ASSET_ACCT) AS P_ASSET_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = P_PURCHASEPRICEVARIANCE_ACCT) AS P_PURCHASEPRICEVARIANCE_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = P_INVOICEPRICEVARIANCE_ACCT) AS P_INVOICEPRICEVARIANCE_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = P_TRADEDISCOUNTREC_ACCT) AS P_TRADEDISCOUNTREC_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = P_TRADEDISCOUNTGRANT_ACCT) AS P_TRADEDISCOUNTGRANT_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = P_COGS_ACCT) AS P_COGS_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = C_RECEIVABLE_ACCT) AS C_RECEIVABLE_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = C_PREPAYMENT_ACCT) AS C_PREPAYMENT_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = V_LIABILITY_ACCT) AS V_LIABILITY_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = V_LIABILITY_SERVICES_ACCT) AS V_LIABILITY_SERVICES_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = V_PREPAYMENT_ACCT) AS V_PREPAYMENT_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = PAYDISCOUNT_EXP_ACCT) AS PAYDISCOUNT_EXP_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = WRITEOFF_ACCT) AS WRITEOFF_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = PAYDISCOUNT_REV_ACCT) AS PAYDISCOUNT_REV_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = UNREALIZEDGAIN_ACCT) AS UNREALIZEDGAIN_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = UNREALIZEDLOSS_ACCT) AS UNREALIZEDLOSS_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = REALIZEDGAIN_ACCT) AS REALIZEDGAIN_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = REALIZEDLOSS_ACCT) AS REALIZEDLOSS_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = WITHHOLDING_ACCT) AS WITHHOLDING_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = E_PREPAYMENT_ACCT) AS E_PREPAYMENT_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = E_EXPENSE_ACCT) AS E_EXPENSE_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = PJ_ASSET_ACCT) AS PJ_ASSET_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = PJ_WIP_ACCT) AS PJ_WIP_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = T_EXPENSE_ACCT) AS T_EXPENSE_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = T_LIABILITY_ACCT) AS T_LIABILITY_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = T_RECEIVABLES_ACCT) AS T_RECEIVABLES_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = T_DUE_ACCT) AS T_DUE_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = T_CREDIT_ACCT) AS T_CREDIT_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = B_INTRANSIT_ACCT) AS B_INTRANSIT_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = B_ASSET_ACCT) AS B_ASSET_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = B_EXPENSE_ACCT) AS B_EXPENSE_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = B_INTERESTREV_ACCT) AS B_INTERESTREV_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = B_INTERESTEXP_ACCT) AS B_INTERESTEXP_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = B_UNIDENTIFIED_ACCT) AS B_UNIDENTIFIED_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = B_UNALLOCATEDCASH_ACCT) AS B_UNALLOCATEDCASH_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = B_PAYMENTSELECT_ACCT) AS B_PAYMENTSELECT_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = B_SETTLEMENTGAIN_ACCT) AS B_SETTLEMENTGAIN_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = B_SETTLEMENTLOSS_ACCT) AS B_SETTLEMENTLOSS_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = B_REVALUATIONGAIN_ACCT) AS B_REVALUATIONGAIN_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = B_REVALUATIONLOSS_ACCT) AS B_REVALUATIONLOSS_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = CH_EXPENSE_ACCT) AS CH_EXPENSE_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = CH_REVENUE_ACCT) AS CH_REVENUE_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = UNEARNEDREVENUE_ACCT) AS UNEARNEDREVENUE_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = NOTINVOICEDRECEIVABLES_ACCT) AS NOTINVOICEDRECEIVABLES_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = NOTINVOICEDREVENUE_ACCT) AS NOTINVOICEDREVENUE_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = NOTINVOICEDRECEIPTS_ACCT) AS NOTINVOICEDRECEIPTS_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = CB_ASSET_ACCT) AS CB_ASSET_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = CB_CASHTRANSFER_ACCT) AS CB_CASHTRANSFER_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = CB_DIFFERENCES_ACCT) AS CB_DIFFERENCES_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = CB_EXPENSE_ACCT) AS CB_EXPENSE_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = CB_RECEIPT_ACCT) AS CB_RECEIPT_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = A_ACCUMDEPRECIATION_ACCT) AS A_ACCUMDEPRECIATION_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = A_DEPRECIATION_ACCT) AS A_DEPRECIATION_ACCT,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = A_DISPOSAL_GAIN) AS A_DISPOSAL_GAIN,
    (SELECT VALUE FROM C_VALIDCOMBINATION VC LEFT JOIN C_ELEMENTVALUE EV ON EV.C_ELEMENTVALUE_ID = VC.ACCOUNT_ID WHERE VC.C_VALIDCOMBINATION_ID = A_DISPOSAL_LOSS) AS A_DISPOSAL_LOSS
  INTO V_W_INVENTORY_ACCT, V_W_INVACTUALADJUST_ACCT, V_W_DIFFERENCES_ACCT, V_W_REVALUATION_ACCT, V_P_REVENUE_ACCT, V_P_EXPENSE_ACCT, V_P_ASSET_ACCT, V_P_PURCHASEPRICEVARIANCE_ACCT,
    V_P_INVOICEPRICEVARIANCE_ACCT, V_P_TRADEDISCOUNTREC_ACCT, V_P_TRADEDISCOUNTGRANT_ACCT, V_P_COGS_ACCT, V_C_RECEIVABLE_ACCT, V_C_PREPAYMENT_ACCT, V_V_LIABILITY_ACCT, V_V_LIABILITY_SERVICES_ACCT,
    V_V_PREPAYMENT_ACCT, V_PAYDISCOUNT_EXP_ACCT, V_WRITEOFF_ACCT, V_PAYDISCOUNT_REV_ACCT, V_UNREALIZEDGAIN_ACCT, V_UNREALIZEDLOSS_ACCT, V_REALIZEDGAIN_ACCT, V_REALIZEDLOSS_ACCT, V_WITHHOLDING_ACCT,
    V_E_PREPAYMENT_ACCT, V_E_EXPENSE_ACCT, V_PJ_ASSET_ACCT, V_PJ_WIP_ACCT, V_T_EXPENSE_ACCT, V_T_LIABILITY_ACCT, V_T_RECEIVABLES_ACCT, V_T_DUE_ACCT, V_T_CREDIT_ACCT, V_B_INTRANSIT_ACCT, V_B_ASSET_ACCT,
    V_B_EXPENSE_ACCT, V_B_INTERESTREV_ACCT, V_B_INTERESTEXP_ACCT, V_B_UNIDENTIFIED_ACCT, V_B_UNALLOCATEDCASH_ACCT, V_B_PAYMENTSELECT_ACCT, V_B_SETTLEMENTGAIN_ACCT, V_B_SETTLEMENTLOSS_ACCT,
    V_B_REVALUATIONGAIN_ACCT, V_B_REVALUATIONLOSS_ACCT, V_CH_EXPENSE_ACCT, V_CH_REVENUE_ACCT, V_UNEARNEDREVENUE_ACCT, V_NOTINVOICEDRECEIVABLES_ACCT, V_NOTINVOICEDREVENUE_ACCT, V_NOTINVOICEDRECEIPTS_ACCT,
    V_CB_ASSET_ACCT, V_CB_CASHTRANSFER_ACCT, V_CB_DIFFERENCES_ACCT, V_CB_EXPENSE_ACCT, V_CB_RECEIPT_ACCT, V_A_ACCUMDEPRECIATION_ACCT, V_A_DEPRECIATION_ACCT, V_A_DISPOSAL_GAIN, V_A_DISPOSAL_LOSS
  FROM C_ACCTSCHEMA_DEFAULT D 
  WHERE D.C_ACCTSCHEMA_ID = P_C_ACCTSCHEMA_ID;
  
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'SUSPENSEBALANCING_ACCT' WHERE VALUE = V_SUSPENSEBALANCING_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'SUSPENSEERROR_ACCT' WHERE VALUE = V_SUSPENSEERROR_ACT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'CURRENCYBALANCING_ACCT' WHERE VALUE = V_CURRENCYBALANCING_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'RETAINEDEARNING_ACCT' WHERE VALUE = V_RETAINEDEARNING_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'INCOMESUMMARY_ACCT' WHERE VALUE = V_INCOMESUMMARY_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'INTERCOMPANYDUETO_ACCT' WHERE VALUE = V_INTERCOMPANYDUETO_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'INTERCOMPANYDUEFROM_ACCT' WHERE VALUE = V_INTERCOMPANYDUEFROM_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'PPVOFFSET_ACCT' WHERE VALUE = V_PPVOFFSET_ACCT;
  --update obfate_fin_tree_to_csv set default_account = 'SUSPENSEBALANCING_ACCT' where value = v_cfs_order_acct;
  
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'W_INVENTORY_ACCT' WHERE VALUE = V_W_INVENTORY_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'W_INVACTUALADJUST_ACCT' WHERE VALUE = V_W_INVACTUALADJUST_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'W_DIFFERENCES_ACCT' WHERE VALUE = V_W_DIFFERENCES_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'W_REVALUATION_ACCT' WHERE VALUE = V_W_REVALUATION_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'P_REVENUE_ACCT' WHERE VALUE = V_P_REVENUE_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'P_EXPENSE_ACCT' WHERE VALUE = V_P_EXPENSE_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'P_ASSET_ACCT' WHERE VALUE = V_P_ASSET_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'P_PURCHASEPRICEVARIANCE_ACCT' WHERE VALUE = V_P_PURCHASEPRICEVARIANCE_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'P_INVOICEPRICEVARIANCE_ACCT' WHERE VALUE = V_P_INVOICEPRICEVARIANCE_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'P_TRADEDISCOUNTREC_ACCT' WHERE VALUE = V_P_TRADEDISCOUNTREC_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'P_TRADEDISCOUNTGRANT_ACCT' WHERE VALUE = V_P_TRADEDISCOUNTGRANT_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'P_COGS_ACCT' WHERE VALUE = V_P_COGS_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'C_RECEIVABLE_ACCT' WHERE VALUE = V_C_RECEIVABLE_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'C_PREPAYMENT_ACCT' WHERE VALUE = V_C_PREPAYMENT_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'V_LIABILITY_ACCT' WHERE VALUE = V_V_LIABILITY_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'V_LIABILITY_SERVICES_ACCT' WHERE VALUE = V_V_LIABILITY_SERVICES_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'V_PREPAYMENT_ACCT' WHERE VALUE = V_V_PREPAYMENT_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'PAYDISCOUNT_EXP_ACCT' WHERE VALUE = V_PAYDISCOUNT_EXP_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'WRITEOFF_ACCT' WHERE VALUE = V_WRITEOFF_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'PAYDISCOUNT_REV_ACCT' WHERE VALUE = V_PAYDISCOUNT_REV_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'UNREALIZEDGAIN_ACCT' WHERE VALUE = V_UNREALIZEDGAIN_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'UNREALIZEDLOSS_ACCT' WHERE VALUE = V_UNREALIZEDLOSS_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'REALIZEDGAIN_ACCT' WHERE VALUE = V_REALIZEDGAIN_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'REALIZEDLOSS_ACCT' WHERE VALUE = V_REALIZEDLOSS_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'WITHHOLDING_ACCT' WHERE VALUE = V_WITHHOLDING_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'E_PREPAYMENT_ACCT' WHERE VALUE = V_E_PREPAYMENT_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'E_EXPENSE_ACCT' WHERE VALUE = V_E_EXPENSE_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'PJ_ASSET_ACCT' WHERE VALUE = V_PJ_ASSET_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'PJ_WIP_ACCT' WHERE VALUE = V_PJ_WIP_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'T_EXPENSE_ACCT' WHERE VALUE = V_T_EXPENSE_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'T_LIABILITY_ACCT' WHERE VALUE = V_T_LIABILITY_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'T_RECEIVABLES_ACCT' WHERE VALUE = V_T_RECEIVABLES_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'T_DUE_ACCT' WHERE VALUE = V_T_DUE_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'T_CREDIT_ACCT' WHERE VALUE = V_T_CREDIT_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'B_INTRANSIT_ACCT' WHERE VALUE = V_B_INTRANSIT_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'B_ASSET_ACCT' WHERE VALUE = V_B_ASSET_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'B_EXPENSE_ACCT' WHERE VALUE = V_B_EXPENSE_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'B_INTERESTREV_ACCT' WHERE VALUE = V_B_INTERESTREV_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'B_INTERESTEXP_ACCT' WHERE VALUE = V_B_INTERESTEXP_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'B_UNIDENTIFIED_ACCT' WHERE VALUE = V_B_UNIDENTIFIED_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'B_UNALLOCATEDCASH_ACCT' WHERE VALUE = V_B_UNALLOCATEDCASH_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'B_PAYMENTSELECT_ACCT' WHERE VALUE = V_B_PAYMENTSELECT_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'B_SETTLEMENTGAIN_ACCT' WHERE VALUE = V_B_SETTLEMENTGAIN_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'B_SETTLEMENTLOSS_ACCT' WHERE VALUE = V_B_SETTLEMENTLOSS_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'B_REVALUATIONGAIN_ACCT' WHERE VALUE = V_B_REVALUATIONGAIN_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'B_REVALUATIONLOSS_ACCT' WHERE VALUE = V_B_REVALUATIONLOSS_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'CH_EXPENSE_ACCT' WHERE VALUE = V_CH_EXPENSE_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'CH_REVENUE_ACCT' WHERE VALUE = V_CH_REVENUE_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'UNEARNEDREVENUE_ACCT' WHERE VALUE = V_UNEARNEDREVENUE_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'NOTINVOICEDRECEIVABLES_ACCT' WHERE VALUE = V_NOTINVOICEDRECEIVABLES_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'NOTINVOICEDREVENUE_ACCT' WHERE VALUE = V_NOTINVOICEDREVENUE_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'NOTINVOICEDRECEIPTS_ACCT' WHERE VALUE = V_NOTINVOICEDRECEIPTS_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'CB_ASSET_ACCT' WHERE VALUE = V_CB_ASSET_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'CB_CASHTRANSFER_ACCT' WHERE VALUE = V_CB_CASHTRANSFER_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'CB_DIFFERENCES_ACCT' WHERE VALUE = V_CB_DIFFERENCES_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'CB_EXPENSE_ACCT' WHERE VALUE = V_CB_EXPENSE_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'CB_RECEIPT_ACCT' WHERE VALUE = V_CB_RECEIPT_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'A_ACCUMDEPRECIATION_ACCT' WHERE VALUE = V_A_ACCUMDEPRECIATION_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'A_DEPRECIATION_ACCT' WHERE VALUE = V_A_DEPRECIATION_ACCT;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'A_DISPOSAL_GAIN' WHERE VALUE = V_A_DISPOSAL_GAIN;
  UPDATE OBFATE_FIN_TREE_TO_CSV SET DEFAULT_ACCOUNT = 'A_DISPOSAL_LOSS' WHERE VALUE = V_A_DISPOSAL_LOSS;

  NULL;
END OBFATE_GETDEFAULT
]]></body>
    </function>
  </database>
