var xmlJsonClass={xml2json:function(f,i){if(f.nodeType===9){f=f.documentElement;}var g=this.removeWhite(f);var h=this.toObj(g);var j=this.toJson(h,f.nodeName,"\t");return"{\n"+i+(i?j.replace(/\t/g,i):j.replace(/\t|\n/g,""))+"\n}";},json2xml:function(i,j){var h=function(a,s,n){var c="";var d,r;if(a instanceof Array){if(a.length===0){c+=n+"<"+s+">__EMPTY_ARRAY_</"+s+">\n";
}else{for(d=0,r=a.length;d<r;d+=1){var b=n+h(a[d],s,n+"\t")+"\n";c+=b;}}}else{if(typeof(a)==="object"){var e=false;c+=n+"<"+s;var m;for(m in a){if(a.hasOwnProperty(m)){if(m.charAt(0)==="@"){c+=" "+m.substr(1)+'="'+a[m].toString()+'"';}else{e=true;}}}c+=e?">":"/>";if(e){for(m in a){if(a.hasOwnProperty(m)){if(m==="#text"){c+=a[m];
}else{if(m==="#cdata"){c+="<![CDATA["+a[m]+"]]>";}else{if(m.charAt(0)!=="@"){c+=h(a[m],m,n+"\t");}}}}}c+=(c.charAt(c.length-1)==="\n"?n:"")+"</"+s+">";}}else{if(typeof(a)==="function"){c+=n+"<"+s+">"+"<![CDATA["+a+"]]>"+"</"+s+">";}else{if(a.toString()==='""'||a.toString().length===0){c+=n+"<"+s+">__EMPTY_STRING_</"+s+">";
}else{c+=n+"<"+s+">"+a.toString()+"</"+s+">";}}}}return c;};var f="";var g;for(g in i){if(i.hasOwnProperty(g)){f+=h(i[g],g,"");}}return j?f.replace(/\t/g,j):f.replace(/\t|\n/g,"");},toObj:function(i){var l={};var m=/function/i;if(i.nodeType===1){if(i.attributes.length){var n;for(n=0;n<i.attributes.length;
n+=1){l["@"+i.attributes[n].nodeName]=(i.attributes[n].nodeValue||"").toString();}}if(i.firstChild){var j=0,o=0,p=false;var k;for(k=i.firstChild;k;k=k.nextSibling){if(k.nodeType===1){p=true;}else{if(k.nodeType===3&&k.nodeValue.match(/[^ \f\n\r\t\v]/)){j+=1;}else{if(k.nodeType===4){o+=1;}}}}if(p){if(j<2&&o<2){this.removeWhite(i);
for(k=i.firstChild;k;k=k.nextSibling){if(k.nodeType===3){l["#text"]=this.escape(k.nodeValue);}else{if(k.nodeType===4){if(m.test(k.nodeValue)){l[k.nodeName]=[l[k.nodeName],k.nodeValue];}else{l["#cdata"]=this.escape(k.nodeValue);}}else{if(l[k.nodeName]){if(l[k.nodeName] instanceof Array){l[k.nodeName][l[k.nodeName].length]=this.toObj(k);
}else{l[k.nodeName]=[l[k.nodeName],this.toObj(k)];}}else{l[k.nodeName]=this.toObj(k);}}}}}else{if(!i.attributes.length){l=this.escape(this.innerXml(i));}else{l["#text"]=this.escape(this.innerXml(i));}}}else{if(j){if(!i.attributes.length){l=this.escape(this.innerXml(i));if(l==="__EMPTY_ARRAY_"){l="[]";
}else{if(l==="__EMPTY_STRING_"){l="";}}}else{l["#text"]=this.escape(this.innerXml(i));}}else{if(o){if(o>1){l=this.escape(this.innerXml(i));}else{for(k=i.firstChild;k;k=k.nextSibling){if(m.test(i.firstChild.nodeValue)){l=i.firstChild.nodeValue;break;}else{l["#cdata"]=this.escape(k.nodeValue);}}}}}}}if(!i.attributes.length&&!i.firstChild){l=null;
}}else{if(i.nodeType===9){l=this.toObj(i.documentElement);}else{alert("unhandled node type: "+i.nodeType);}}return l;},toJson:function(w,x,u){var m=x?('"'+x+'"'):"";if(w==="[]"){m+=(x?":[]":"[]");}else{if(w instanceof Array){var v,q,s=[];for(q=0,v=w.length;q<v;q+=1){s[q]=this.toJson(w[q],"",u+"\t");}m+=(x?":[":"[")+(s.length>1?("\n"+u+"\t"+s.join(",\n"+u+"\t")+"\n"+u):s.join(""))+"]";
}else{if(w===null){m+=(x&&":")+"null";}else{if(typeof(w)==="object"){var o=[];var t;for(t in w){if(w.hasOwnProperty(t)){o[o.length]=this.toJson(w[t],t,u+"\t");}}m+=(x?":{":"{")+(o.length>1?("\n"+u+"\t"+o.join(",\n"+u+"\t")+"\n"+u):o.join(""))+"}";}else{if(typeof(w)==="string"){var n=/(^-?\d+\.?\d*$)/;
var i=/function/i;var r=w.toString();if(n.test(r)||i.test(r)||r==="false"||r==="true"){m+=(x&&":")+r;}else{m+=(x&&":")+'"'+w+'"';}}else{m+=(x&&":")+w.toString();}}}}}return m;},innerXml:function(h){var c="";if("innerHTML" in h){c=h.innerHTML;}else{var f=function(a){var d="",e;if(a.nodeType===1){d+="<"+a.nodeName;
for(e=0;e<a.attributes.length;e+=1){d+=" "+a.attributes[e].nodeName+'="'+(a.attributes[e].nodeValue||"").toString()+'"';}if(a.firstChild){d+=">";for(var b=a.firstChild;b;b=b.nextSibling){d+=f(b);}d+="</"+a.nodeName+">";}else{d+="/>";}}else{if(a.nodeType===3){d+=a.nodeValue;}else{if(a.nodeType===4){d+="<![CDATA["+a.nodeValue+"]]>";
}}}return d;};for(var g=h.firstChild;g;g=g.nextSibling){c+=f(g);}}return c;},escape:function(b){return b.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r");},removeWhite:function(d){d.normalize();var f;for(f=d.firstChild;f;){if(f.nodeType===3){if(!f.nodeValue.match(/[^ \f\n\r\t\v]/)){var e=f.nextSibling;
d.removeChild(f);f=e;}else{f=f.nextSibling;}}else{if(f.nodeType===1){this.removeWhite(f);f=f.nextSibling;}else{f=f.nextSibling;}}}return d;}};