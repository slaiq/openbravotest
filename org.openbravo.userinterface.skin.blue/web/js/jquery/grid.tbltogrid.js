function tableToGrid(d,c){jQuery(d).each(function(){if(this.grid){return;}jQuery(this).width("99%");var p=jQuery(this).width();var a=jQuery("input[type=checkbox]:first",jQuery(this));var u=jQuery("input[type=radio]:first",jQuery(this));var y=a.length>0;var v=!y&&u.length>0;var t=y||v;var r=[];var b=[];
jQuery("th",jQuery(this)).each(function(){if(r.length===0&&t){r.push({name:"__selection__",index:"__selection__",width:0,hidden:true});b.push("__selection__");}else{r.push({name:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),index:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),width:jQuery(this).width()||150});
b.push(jQuery(this).html());}});var w=[];var x=[];var q=[];jQuery("tbody > tr",jQuery(this)).each(function(){var e={};var f=0;jQuery("td",jQuery(this)).each(function(){if(f===0&&t){var h=jQuery("input",jQuery(this));var g=h.attr("value");x.push(g||w.length);if(h.attr("checked")){q.push(g);}e[r[f].name]=h.attr("value");
}else{e[r[f].name]=jQuery(this).html();}f++;});if(f>0){w.push(e);}});jQuery(this).empty();jQuery(this).addClass("scroll");jQuery(this).jqGrid(jQuery.extend({datatype:"local",width:p,colNames:b,colModel:r,multiselect:y},c||{}));var s;for(s=0;s<w.length;s++){var z=null;if(x.length>0){z=x[s];if(z&&z.replace){z=encodeURIComponent(z).replace(/[.\-%]/g,"_");
}}if(z===null){z=s+1;}jQuery(this).jqGrid("addRowData",z,w[s]);}for(s=0;s<q.length;s++){jQuery(this).jqGrid("setSelection",q[s]);}});}